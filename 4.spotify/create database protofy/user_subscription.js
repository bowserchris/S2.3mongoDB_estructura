
db.createCollection( 'user_subscription', {validator: {$jsonSchema: {bsonType: 'object',title:'user_subscription',required: [         'user',          'date_initial_subscription',          'date_renewal',          'payment_method'],properties: {user: {bsonType: 'objectId', description:'this should be of type objectid and is required'},date_initial_subscription: {bsonType: 'timestamp', description:'this should be of type timestamp and is required'},date_renewal: {bsonType: 'date', description:'this should be of type date and is required'},payment_method: {enum: credit card or paypal, description:'this should be of type enum and is required',},credit_card_details: {bsonType: 'object',description:'this should be of type object and is optional',
title:'object',required: [         'card_number',          'month',          'year'],properties: {card_number: {bsonType: 'long', description:'this should be of type long and is required'},month: {bsonType: 'int', description:'this should be of type int and is required'},year: {bsonType: 'int', description:'this should be of type int and is required'}}},paypal_details: {bsonType: 'object',description:'this should be of type object and is optional',
title:'object',required: [         'username'],properties: {username: {bsonType: 'string', description:'this should be of type string and is required'}}},payments: {bsonType: 'array',description:'this should be of type object and is optional',items: {
title:'object',required: [         'date',          'total'],properties: {date: {bsonType: 'timestamp', description:'this should be of type timestamp and is required'},total: {bsonType: 'decimal', description:'this should be of type decimal and is required'}}}}}         }      }});  